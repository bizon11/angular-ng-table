/*!
 * angular-ht-ng-table
 * https://github.com/hightest/angular-ng-table
 * Version: 0.0.1 - 2015-01-09T15:55:25.663Z
 * License: 
 */
angular.module("ht.ng-table",["ngTable"]).directive("htNgTable",function(t){"use strict";var e=function(t,e){var a='<table ng-table="tableParams" class="table"><tr ng-repeat-start="row in $data" ng-click="toggle(row)">';return angular.forEach(t,function(t){a+="<td data-title=\"'"+t.name+"'\" sortable=\"'"+t.field+"'\">{{row."+t.field+"}}</td>"}),a+='</tr><tr ng-repeat-end="" ng-if="show(row)"><td colspan="'+t.length+'">'+e+"</td></tr>",a+="</table>"};return{require:"^ngModel",scope:{htNgTable:"=",ngModel:"="},controller:function(t,e,a){var l=t.htNgTable;t.fields=l.fields,t.template=l.template,t.toggle=l.expand,t.show=l.show,t.$watch("ngModel",function(e,a){e!=a&&t.tableParams.reload()},!0),t.tableParams=new e({page:1,count:10},{total:t.ngModel.length,getData:function(e,l){var n=l.sorting()?a(t.ngModel,l.orderBy()):t.ngModel;l.total=n.length,e.resolve(n.slice((l.page()-1)*l.count(),l.page()*l.count()))}})},link:function(a,l){var n=e(a.fields,a.template);l.html(n),t(l.contents())(a)}}});