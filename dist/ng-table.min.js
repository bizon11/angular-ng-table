/*!
 * angular-ht-ng-table
 * https://github.com/hightest/angular-ng-table
 * Version: 0.0.1 - 2015-01-12T12:04:10.974Z
 * License: 
 */
angular.module("ht.ng-table",["ngTable"]).directive("htNgTable",["$compile",function(e){"use strict";var t=function(e,t){var a='<table ng-table="tableParams" class="table"><tr ng-repeat-start="row in $data" ng-click="toggle(row)">';return angular.forEach(e,function(e){a+="<td data-title=\"'"+e.name+"'\" sortable=\"'"+e.field+"'\">{{row."+e.field+"}}</td>"}),a+='</tr><tr ng-repeat-end="" ng-if="show(row)"><td colspan="'+e.length+'">'+t+"</td></tr>",a+="</table>"};return{require:"^ngModel",scope:{htNgTable:"=",ngModel:"="},controller:["$scope","ngTableParams","orderByFilter",function(e,t,a){var l=e.htNgTable;e.fields=l.fields,e.template=l.template,e.toggle=l.expand,e.show=l.show,e.$watch("ngModel",function(t,a){t!=a&&e.tableParams.reload()},!0),e.tableParams=new t({page:1,count:10},{total:e.ngModel.length,getData:function(t,l){var n=l.sorting()?a(e.ngModel,l.orderBy()):e.ngModel;l.total=n.length,t.resolve(n.slice((l.page()-1)*l.count(),l.page()*l.count()))}})}],link:function(a,l){var n=t(a.fields,a.template);l.html(n),e(l.contents())(a)}}}]);